module.exports=function(e){e.initConfig({pkg:e.file.readJSON("package.json"),meta:{banner:'/* \n * <%= pkg.name %> v<%= pkg.version %> - <%= grunt.template.today("yyyy-mm-dd") %> \n * <%= pkg.description %> \n * <%= pkg.homepage %> \n * \n * Copyright <%= grunt.template.today("yyyy") %> <%= pkg.author.name %>; <%= pkg.license %> Licensed \n */\n'},jshint:{options:{globals:{jQuery:!0,$:!0},browser:!0,curly:!0,eqeqeq:!0,forin:!0,freeze:!0,immed:!0,latedef:!0,newcap:!0,noarg:!0,nonew:!0,smarttabs:!0,sub:!0,undef:!0,validthis:!0},files:["src/<%= pkg.codename %>.js"]},copy:{main:{files:[{src:"src/<%= pkg.codename %>.js",dest:"<%= pkg.codename %>.js"}]}},uglify:{options:{report:"min"},target:{files:{"<%= pkg.codename %>.min.js":["<%= pkg.codename %>.js"]}}},jquerymanifest:{options:{source:e.file.readJSON("package.json"),overrides:{name:"<%= pkg.id %>",keywords:"<%= pkg.keywords %>",homepage:"<%= pkg.homepage %>",docs:"<%= pkg.homepage %>",demo:"<%= pkg.homepage %>",download:"<%= pkg.repository.url %>",bugs:"<%= pkg.repository.url %>/issues",dependencies:{jquery:">=1.7"}}}},less:{main:{files:{"<%= pkg.codename %>.css":["src/<%= pkg.codename %>-config.less","src/<%= pkg.codename %>.less"]}},min:{options:{report:"min",cleancss:!0},files:{"<%= pkg.codename %>.min.css":["src/<%= pkg.codename %>-config.less","src/<%= pkg.codename %>.less"]}}},autoprefixer:{options:{borwsers:["> 1%","last 5 versions","Firefox ESR","Opera 12.1",">= ie 8"]},no_dest:{src:"*.css"}},usebanner:{options:{position:"top",banner:"<%= meta.banner %>"},files:{src:["<%= pkg.codename %>.css","<%= pkg.codename %>.js","<%= pkg.codename %>.min.css","<%= pkg.codename %>.min.js"]}},sync:{all:{options:{sync:["name","version","description","author","license","homepage"],overrides:{main:["<%= pkg.codename %>.js","<%= pkg.codename %>.css"],ignore:["*.jquery.json"]}}}}}),e.loadNpmTasks("grunt-contrib-jshint"),e.loadNpmTasks("grunt-contrib-copy"),e.loadNpmTasks("grunt-contrib-uglify"),e.loadNpmTasks("grunt-jquerymanifest"),e.loadNpmTasks("grunt-contrib-less"),e.loadNpmTasks("grunt-autoprefixer"),e.loadNpmTasks("grunt-banner"),e.loadNpmTasks("grunt-npm2bower-sync"),e.registerTask("buildReadme","Build Formstone README.md file.",function(){var n=e.file.readJSON("package.json"),s=e.file.exists("src/README.md")?"\n\n---\n\n"+e.file.read("src/README.md"):"";destination="README.md",markdown='<a href="http://gruntjs.com" target="_blank"><img src="https://cdn.gruntjs.com/builtwith.png" alt="Built with Grunt"></a> \n# '+n.name+" \n\n"+n.description+" \n\n- [Demo]("+n.demo+") \n- [Documentation]("+n.homepage+") \n\n#### Bower Support \n`bower install "+n.name+"` "+s,e.file.write(destination,markdown),e.log.writeln('File "'+destination+'" created.')}),e.registerTask("default",["jshint","copy","uglify","jquerymanifest","less","autoprefixer","usebanner","sync","buildReadme"])};